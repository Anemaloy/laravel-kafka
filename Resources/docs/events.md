# События

## Свойства событий

### name
Название события, например **ph/pa/user/registered**.

### version
Версия события, например **1.0.0**.

Используется [семантическое версионирование](https://semver.org/lang/ru/), предыдущие версии событий изменять нельзя. 

### time
Дата и время события в формате RFC3339, автоматически проставляется библиотекой перед отправкой события в kafka.

### payload
Данные события, объект.

При создании события в качестве payload можно передавать как объект, так и массив данных, он будет автоматически конвертирован в объект.

Перед отправкой и после получения события из кафки данные валидируются на соответствие схеме.

## Схемы событий
Схемы событий должны находится в директории со следующей структурой: /events-directory/{eventName}/{version}.json.

Например, `Resources/events/ph/pa/user/registered/1.0.0.json` - событие `ph/pa/user/registered`, версия `1.0.0`.

Библиотека может использовать несколько каталогов событий, каждый из каталогов со своим префиксом URI схемы. Несмотря
на различные префиксы, события должны иметь уникальные названия среди всех зарегистрированных каталогов.

Подробнее в примерах [Consumer.php](./examples/Consumer.php) и [Producer.php](./examples/Producer.php). Тем не менее
